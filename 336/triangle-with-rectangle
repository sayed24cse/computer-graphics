#include <GL/gl.h>             // Include OpenGL header for core functions
#include <GL/glut.h>           // Include GLUT header for windowing and event handling

void display(void)             // Display callback function to draw the scene
{
    glClear (GL_COLOR_BUFFER_BIT);      // Clear the color buffer to prepare for new frame
    glColor3f (1.1, 1.1, 1.1);          // Set current drawing color (white, slightly above 1.0 for intensity)

    glBegin(GL_POLYGON);                 // Start defining a polygon
        glVertex3f (-30, -60, 0.0);     // Define vertex 1 of the polygon
        glVertex3f (30, -60, 0.0);      // Define vertex 2 of the polygon
        glVertex3f (30, 40, 0.0);       // Define vertex 3 of the polygon
        glVertex3f (-30, 40, 0.0);      // Define vertex 4 of the polygon
    glEnd();                            // End definition of the polygon

    glBegin(GL_POLYGON);                 // Start defining another polygon (triangle)
        glVertex3f (0, 90, 0.0);        // Define vertex 1 of the polygon (top point)
        glVertex3f (30, 40, 0.0);       // Define vertex 2 of the polygon (bottom right)
        glVertex3f (-30, 40, 0.0);      // Define vertex 3 of the polygon (bottom left)
    glEnd();                            // End definition of the polygon

    glFlush ();                         // Force execution of OpenGL commands in finite time
}

void init (void)                    // Initialization function for OpenGL state setup
{
    glClearColor (0.0, 0.0, 0.0, 0.0);     // Set clear color to black with full transparency

    glMatrixMode(GL_PROJECTION);            // Switch to projection matrix mode
    glLoadIdentity();                       // Load identity matrix to reset projection
    glOrtho(-100, 100, -100, 100, -1.0, 1.0); // Define a 2D orthographic projection volume
}

int main(int argc, char** argv)    // Main function: program entry point
{
    glutInit(&argc, argv);                 // Initialize GLUT library with command line arguments
    glutInitDisplayMode (GLUT_SINGLE | GLUT_RGB); // Set display mode to single buffering and RGB color
    glutInitWindowSize (500, 500);         // Set initial window size to 500x500 pixels
    glutInitWindowPosition (100,100);      // Set initial window position on screen
    glutCreateWindow ("triangle-with-rectangle"); // Create window with title "triangle-with-rectangle"
    init ();                              // Call initialization function to set OpenGL states
    glutDisplayFunc(display);              // Register display callback function
    glutMainLoop();                        // Enter GLUT event processing loop
    return 0;                             // Exit program
}
